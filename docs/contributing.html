<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contributing &mdash; Solidity 0.7.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/a4_railroad_diagram.css?v=a92580d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/fonts.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=f142d018" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom-dark.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/toggle.css?v=3a09e99e" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=918ced64"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/js/constants.js"></script>
        <script src="_static/js/initialize.js"></script>
        <script src="_static/js/toggle.js?v=531d20fa"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Solidity Brand Guide" href="brand-guide.html" />
    <link rel="prev" title="List of Known Bugs" href="bugs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
          </a>
              <div class="version">
                0.7.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction-to-smart-contracts.html">Introduction to Smart Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing-solidity.html">Installing the Solidity Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidity-by-example.html">Solidity by Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language Description</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="layout-of-source-files.html">Layout of a Solidity Source File</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure-of-a-contract.html">Structure of a Contract</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="units-and-global-variables.html">Units and Globally Available Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="control-structures.html">Expressions and Control Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="contracts.html">Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="assembly.html">Inline Assembly</a></li>
<li class="toctree-l1"><a class="reference internal" href="cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="grammar.html">Language Grammar</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Internals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="internals/layout_in_storage.html">Layout of State Variables in Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals/layout_in_memory.html">Layout in Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals/layout_in_calldata.html">Layout of Call Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals/variable_cleanup.html">Cleaning Up Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals/source_mappings.html">Source Mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals/optimiser.html">The Optimiser</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Contract Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="abi-spec.html">Contract ABI Specification</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Material</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="050-breaking-changes.html">Solidity v0.5.0 Breaking Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="060-breaking-changes.html">Solidity v0.6.0 Breaking Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="070-breaking-changes.html">Solidity v0.7.0 Breaking Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="natspec-format.html">NatSpec Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="security-considerations.html">Security Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="using-the-compiler.html">Using the compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="yul.html">Yul</a></li>
<li class="toctree-l1"><a class="reference internal" href="style-guide.html">Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-patterns.html">Common Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="bugs.html">List of Known Bugs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#team-calls">Team Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-report-issues">How to Report Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#workflow-for-pull-requests">Workflow for Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-compiler-tests">Running the Compiler Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-tests">Running the Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#writing-and-running-syntax-tests">Writing and Running Syntax Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-fuzzer-via-afl">Running the Fuzzer via AFL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#whiskers">Whiskers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation-style-guide">Documentation Style Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#english-language">English Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="#title-case-for-headings">Title Case for Headings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#expand-contractions">Expand Contractions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#active-and-passive-voice">Active and Passive Voice</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-terms">Common Terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-examples">Code Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-documentation-tests">Running Documentation Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#solidity-language-design">Solidity Language Design</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="brand-guide.html">Solidity Brand Guide</a></li>
</ul>

    <a href="genindex.html">Keyword Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Solidity</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Contributing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/contributing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Link to this heading"></a></h1>
<p>Help is always welcome and there are plenty of options how you can contribute to Solidity.</p>
<p>In particular, we appreciate support in the following areas:</p>
<ul class="simple">
<li><p>Reporting issues.</p></li>
<li><p>Fixing and responding to <a class="reference external" href="https://github.com/ethereum/solidity/issues">Solidity’s GitHub issues</a>, especially those tagged as
<a class="reference external" href="https://github.com/ethereum/solidity/labels/good%20first%20issue">good first issue</a> which are
meant as introductory issues for external contributors.</p></li>
<li><p>Improving the documentation.</p></li>
<li><p>Translating the documentation into more languages.</p></li>
<li><p>Responding to questions from other users on <a class="reference external" href="https://ethereum.stackexchange.com">StackExchange</a> and the <a class="reference external" href="https://gitter.im/ethereum/solidity">Solidity Gitter Chat</a>.</p></li>
<li><p>Getting involved in the language design process by joining language design calls, proposing language changes or new features and providing feedback.</p></li>
</ul>
<p>To get started, you can try <span class="xref std std-ref">building-from-source</span> in order to familiarize
yourself with the components of Solidity and the build process. Also, it may be
useful to become well-versed at writing smart-contracts in Solidity.</p>
<p>Please note that this project is released with a <a class="reference external" href="https://raw.githubusercontent.com/ethereum/solidity/develop/CODE_OF_CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project - in the issues, pull requests, or Gitter channels - you agree to abide by its terms.</p>
<section id="team-calls">
<h2>Team Calls<a class="headerlink" href="#team-calls" title="Link to this heading"></a></h2>
<p>If you have issues or pull requests to discuss, or are interested in hearing what
the team and contributors are working on, you can join our public team calls:</p>
<ul class="simple">
<li><p>Mondays at 3pm CET/CEST.</p></li>
<li><p>Wednesdays at 2pm CET/CEST.</p></li>
</ul>
<p>Both calls take place on <a class="reference external" href="https://meet.google.com/mrq-kbwv-edg">Google Meet</a>.</p>
</section>
<section id="how-to-report-issues">
<h2>How to Report Issues<a class="headerlink" href="#how-to-report-issues" title="Link to this heading"></a></h2>
<p>To report an issue, please use the
<a class="reference external" href="https://github.com/ethereum/solidity/issues">GitHub issues tracker</a>. When
reporting issues, please mention the following details:</p>
<ul class="simple">
<li><p>Which version of Solidity you are using.</p></li>
<li><p>What was the source code (if applicable).</p></li>
<li><p>Which platform are you running on.</p></li>
<li><p>How to reproduce the issue.</p></li>
<li><p>What was the result of the issue.</p></li>
<li><p>What the expected behaviour is.</p></li>
</ul>
<p>Reducing the source code that caused the issue to a bare minimum is always
very helpful and sometimes even clarifies a misunderstanding.</p>
</section>
<section id="workflow-for-pull-requests">
<h2>Workflow for Pull Requests<a class="headerlink" href="#workflow-for-pull-requests" title="Link to this heading"></a></h2>
<p>In order to contribute, please fork off of the <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch and make your
changes there. Your commit messages should detail <em>why</em> you made your change
in addition to <em>what</em> you did (unless it is a tiny change).</p>
<p>If you need to pull in any changes from <code class="docutils literal notranslate"><span class="pre">develop</span></code> after making your fork (for
example, to resolve potential merge conflicts), please avoid using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code>
and instead, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code> your branch. This will help us review your change
more easily.</p>
<p>Additionally, if you are writing a new feature, please ensure you add appropriate
test cases under <code class="docutils literal notranslate"><span class="pre">test/</span></code> (see below).</p>
<p>However, if you are making a larger change, please consult with the <a class="reference external" href="https://gitter.im/ethereum/solidity-dev">Solidity Development Gitter channel</a> (different from the one mentioned above, this one is
focused on compiler and language development instead of language usage) first.</p>
<p>New features and bugfixes should be added to the <code class="docutils literal notranslate"><span class="pre">Changelog.md</span></code> file: please
follow the style of previous entries, when applicable.</p>
<p>Finally, please make sure you respect the <a class="reference external" href="https://github.com/ethereum/solidity/blob/develop/CODING_STYLE.md">coding style</a>
for this project. Also, even though we do CI testing, please test your code and
ensure that it builds locally before submitting a pull request.</p>
<p>Thank you for your help!</p>
</section>
<section id="running-the-compiler-tests">
<h2>Running the Compiler Tests<a class="headerlink" href="#running-the-compiler-tests" title="Link to this heading"></a></h2>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h3>
<p>Some tests require the <a class="reference external" href="https://github.com/ethereum/evmone/releases">evmone</a>
library, others require <a class="reference external" href="https://github.com/Z3Prover/z3">libz3</a>. The test script
tries to discover the location of the <code class="docutils literal notranslate"><span class="pre">evmone</span></code> library, which can be located
in the current directory, installed on the system level, or the <code class="docutils literal notranslate"><span class="pre">deps</span></code> folder
in the project top level. The required file is called <code class="docutils literal notranslate"><span class="pre">libevmone.so</span></code> on Linux
systems, <code class="docutils literal notranslate"><span class="pre">evmone.dll</span></code> on Windows systems and <code class="docutils literal notranslate"><span class="pre">libevmone.dylib</span></code> on macOS.</p>
<p>On macOS some of the testing scripts expect GNU coreutils to be installed.
This can be easiest accomplished using Homebrew: <code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">coreutils</span></code>.</p>
</section>
<section id="running-the-tests">
<h3>Running the Tests<a class="headerlink" href="#running-the-tests" title="Link to this heading"></a></h3>
<p>Solidity includes different types of tests, most of them bundled into the
<a class="reference external" href="https://www.boost.org/doc/libs/1_69_0/libs/test/doc/html/index.html">Boost C++ Test Framework</a> application <code class="docutils literal notranslate"><span class="pre">soltest</span></code>.
Running <code class="docutils literal notranslate"><span class="pre">build/test/soltest</span></code> or its wrapper <code class="docutils literal notranslate"><span class="pre">scripts/soltest.sh</span></code> is sufficient for most changes.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">./scripts/tests.sh</span></code> script executes most Solidity tests automatically,
including those bundled into the <a class="reference external" href="https://www.boost.org/doc/libs/1_69_0/libs/test/doc/html/index.html">Boost C++ Test Framework</a> application <code class="docutils literal notranslate"><span class="pre">soltest</span></code> (or its wrapper <code class="docutils literal notranslate"><span class="pre">scripts/soltest.sh</span></code>),
as well as command line tests and compilation tests.</p>
<p>The test system automatically tries to discover the location of the <code class="docutils literal notranslate"><span class="pre">evmone</span></code> library
starting from the current directory. The required file is called <code class="docutils literal notranslate"><span class="pre">libevmone.so</span></code> on Linux systems,
<code class="docutils literal notranslate"><span class="pre">evmone.dll</span></code> on Windows systems and <code class="docutils literal notranslate"><span class="pre">libevmone.dylib</span></code> on macOS. If it is not found, tests that
use it are skipped. These tests are <code class="docutils literal notranslate"><span class="pre">libsolididty/semanticTests</span></code>, <code class="docutils literal notranslate"><span class="pre">libsolidity/GasCosts</span></code>,
<code class="docutils literal notranslate"><span class="pre">libsolidity/SolidityEndToEndTest</span></code>, part of the soltest suite. To run all tests, download the library from
<a class="reference external" href="https://github.com/ethereum/evmone/releases/tag/v0.4.1">GitHub</a>
and place it in the project root path or inside the <code class="docutils literal notranslate"><span class="pre">deps</span></code> folder.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">libz3</span></code> library is not installed on your system, you should disable the
SMT tests by exporting <code class="docutils literal notranslate"><span class="pre">SMT_FLAGS=--no-smt</span></code> before running <code class="docutils literal notranslate"><span class="pre">./scripts/tests.sh</span></code> or
running <code class="docutils literal notranslate"><span class="pre">./scripts/soltest.sh</span> <span class="pre">--no-smt</span></code>.
These tests are <code class="docutils literal notranslate"><span class="pre">libsolidity/smtCheckerTests</span></code> and <code class="docutils literal notranslate"><span class="pre">libsolidity/smtCheckerTestsJSON</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To get a list of all unit tests run by Soltest, run <code class="docutils literal notranslate"><span class="pre">./build/test/soltest</span> <span class="pre">--list_content=HRF</span></code>.</p>
</div>
<p>For quicker results you can run a subset of, or specific tests.</p>
<p>To run a subset of tests, you can use filters:
<code class="docutils literal notranslate"><span class="pre">./scripts/soltest.sh</span> <span class="pre">-t</span> <span class="pre">TestSuite/TestName</span></code>,
where <code class="docutils literal notranslate"><span class="pre">TestName</span></code> can be a wildcard <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p>
<p>Or, for example, to run all the tests for the yul disambiguator:
<code class="docutils literal notranslate"><span class="pre">./scripts/soltest.sh</span> <span class="pre">-t</span> <span class="pre">&quot;yulOptimizerTests/disambiguator/*&quot;</span> <span class="pre">--no-smt</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">./build/test/soltest</span> <span class="pre">--help</span></code> has extensive help on all of the options available.</p>
<p>See especially:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.boost.org/doc/libs/1_69_0/libs/test/doc/html/boost_test/utf_reference/rt_param_reference/show_progress.html">show_progress (-p)</a> to show test completion,</p></li>
<li><p><a class="reference external" href="https://www.boost.org/doc/libs/1_69_0/libs/test/doc/html/boost_test/utf_reference/rt_param_reference/run_test.html">run_test (-t)</a> to run specific tests cases, and</p></li>
<li><p><a class="reference external" href="https://www.boost.org/doc/libs/1_69_0/libs/test/doc/html/boost_test/utf_reference/rt_param_reference/report_level.html">report-level (-r)</a> give a more detailed report.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Those working in a Windows environment wanting to run the above basic sets
without libz3. Using Git Bash, you use: <code class="docutils literal notranslate"><span class="pre">./build/test/Release/soltest.exe</span> <span class="pre">--</span> <span class="pre">--no-smt</span></code>.
If you are running this in plain Command Prompt, use <code class="docutils literal notranslate"><span class="pre">.\build\test\Release\soltest.exe</span> <span class="pre">--</span> <span class="pre">--no-smt</span></code>.</p>
</div>
<p>If you want to debug using GDB, make sure you build differently than the “usual”.
For example, you could run the following command in your <code class="docutils literal notranslate"><span class="pre">build</span></code> folder:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=Y21ha2UgLURDTUFLRV9CVUlMRF9UWVBFPURlYnVnIC4uCm1ha2U=" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Debug</span> <span class="p">..</span>
<span class="n">make</span>
</pre></div>
</div>
<p>This creates symbols so that when you debug a test using the <code class="docutils literal notranslate"><span class="pre">--debug</span></code> flag,
you have access to functions and variables in which you can break or print with.</p>
<p>The CI runs additional tests (including <code class="docutils literal notranslate"><span class="pre">solc-js</span></code> and testing third party Solidity
frameworks) that require compiling the Emscripten target.</p>
</section>
<section id="writing-and-running-syntax-tests">
<h3>Writing and Running Syntax Tests<a class="headerlink" href="#writing-and-running-syntax-tests" title="Link to this heading"></a></h3>
<p>Syntax tests check that the compiler generates the correct error messages for invalid code
and properly accepts valid code.
They are stored in individual files inside the <code class="docutils literal notranslate"><span class="pre">tests/libsolidity/syntaxTests</span></code> folder.
These files must contain annotations, stating the expected result(s) of the respective test.
The test suite compiles and checks them against the given expectations.</p>
<p>For example: <code class="docutils literal notranslate"><span class="pre">./test/libsolidity/syntaxTests/double_stateVariable_declaration.sol</span></code></p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=Y29udHJhY3QgdGVzdCB7CiAgICB1aW50MjU2IHZhcmlhYmxlOwogICAgdWludDEyOCB2YXJpYWJsZTsKfQovLyAtLS0tCi8vIERlY2xhcmF0aW9uRXJyb3I6ICgzNi01Mik6IElkZW50aWZpZXIgYWxyZWFkeSBkZWNsYXJlZC4=" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="kd">contract</span> <span class="n">test</span> <span class="p">{</span>
    <span class="kt">uint256</span> <span class="n">variable</span><span class="p">;</span>
    <span class="kt">uint128</span> <span class="n">variable</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// ----</span>
<span class="c1">// DeclarationError: (36-52): Identifier already declared.</span>
</pre></div>
</div>
<p>A syntax test must contain at least the contract under test itself, followed by the separator <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">----</span></code>. The comments that follow the separator are used to describe the
expected compiler errors or warnings. The number range denotes the location in the source where the error occurred.
If you want the contract to compile without any errors or warning you can leave
out the separator and the comments that follow it.</p>
<p>In the above example, the state variable <code class="docutils literal notranslate"><span class="pre">variable</span></code> was declared twice, which is not allowed. This results in a <code class="docutils literal notranslate"><span class="pre">DeclarationError</span></code> stating that the identifier was already declared.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">isoltest</span></code> tool is used for these tests and you can find it under <code class="docutils literal notranslate"><span class="pre">./build/test/tools/</span></code>. It is an interactive tool which allows
editing of failing contracts using your preferred text editor. Let’s try to break this test by removing the second declaration of <code class="docutils literal notranslate"><span class="pre">variable</span></code>:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=Y29udHJhY3QgdGVzdCB7CiAgICB1aW50MjU2IHZhcmlhYmxlOwp9Ci8vIC0tLS0KLy8gRGVjbGFyYXRpb25FcnJvcjogKDM2LTUyKTogSWRlbnRpZmllciBhbHJlYWR5IGRlY2xhcmVkLg==" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="kd">contract</span> <span class="n">test</span> <span class="p">{</span>
    <span class="kt">uint256</span> <span class="n">variable</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// ----</span>
<span class="c1">// DeclarationError: (36-52): Identifier already declared.</span>
</pre></div>
</div>
<p>Running <code class="docutils literal notranslate"><span class="pre">./build/test/isoltest</span></code> again results in a test failure:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=c3ludGF4VGVzdHMvZG91YmxlX3N0YXRlVmFyaWFibGVfZGVjbGFyYXRpb24uc29sOiBGQUlMCiAgICBDb250cmFjdDoKICAgICAgICBjb250cmFjdCB0ZXN0IHsKICAgICAgICAgICAgdWludDI1NiB2YXJpYWJsZTsKICAgICAgICB9CgogICAgRXhwZWN0ZWQgcmVzdWx0OgogICAgICAgIERlY2xhcmF0aW9uRXJyb3I6ICgzNi01Mik6IElkZW50aWZpZXIgYWxyZWFkeSBkZWNsYXJlZC4KICAgIE9idGFpbmVkIHJlc3VsdDoKICAgICAgICBTdWNjZXNz" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">syntaxTests</span><span class="o">/</span><span class="n">double_stateVariable_declaration</span><span class="p">.</span><span class="n">sol</span><span class="o">:</span> <span class="n">FAIL</span>
    <span class="n">Contract</span><span class="o">:</span>
        <span class="kd">contract</span> <span class="n">test</span> <span class="p">{</span>
            <span class="kt">uint256</span> <span class="n">variable</span><span class="p">;</span>
        <span class="p">}</span>

    <span class="n">Expected</span> <span class="n">result</span><span class="o">:</span>
        <span class="n">DeclarationError</span><span class="o">:</span> <span class="p">(</span><span class="mi">36</span><span class="o">-</span><span class="mi">52</span><span class="p">)</span><span class="o">:</span> <span class="n">Identifier</span> <span class="n">already</span> <span class="n">declared</span><span class="p">.</span>
    <span class="n">Obtained</span> <span class="n">result</span><span class="o">:</span>
        <span class="n">Success</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">isoltest</span></code> prints the expected result next to the obtained result, and also
provides a way to edit, update or skip the current contract file, or quit the application.</p>
<p>It offers several options for failing tests:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">edit</span></code>: <code class="docutils literal notranslate"><span class="pre">isoltest</span></code> tries to open the contract in an editor so you can adjust it. It either uses the editor given on the command line (as <code class="docutils literal notranslate"><span class="pre">isoltest</span> <span class="pre">--editor</span> <span class="pre">/path/to/editor</span></code>), in the environment variable <code class="docutils literal notranslate"><span class="pre">EDITOR</span></code> or just <code class="docutils literal notranslate"><span class="pre">/usr/bin/editor</span></code> (in that order).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update</span></code>: Updates the expectations for contract under test. This updates the annotations by removing unmet expectations and adding missing expectations. The test is then run again.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skip</span></code>: Skips the execution of this particular test.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quit</span></code>: Quits <code class="docutils literal notranslate"><span class="pre">isoltest</span></code>.</p></li>
</ul>
<p>All of these options apply to the current contract, expect <code class="docutils literal notranslate"><span class="pre">quit</span></code> which stops the entire testing process.</p>
<p>Automatically updating the test above changes it to</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=Y29udHJhY3QgdGVzdCB7CiAgICB1aW50MjU2IHZhcmlhYmxlOwp9Ci8vIC0tLS0=" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="kd">contract</span> <span class="n">test</span> <span class="p">{</span>
    <span class="kt">uint256</span> <span class="n">variable</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// ----</span>
</pre></div>
</div>
<p>and re-run the test. It now passes again:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=UmUtcnVubmluZyB0ZXN0IGNhc2UuLi4Kc3ludGF4VGVzdHMvZG91YmxlX3N0YXRlVmFyaWFibGVfZGVjbGFyYXRpb24uc29sOiBPSw==" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">Re</span><span class="o">-</span><span class="n">running</span> <span class="n">test</span> <span class="kr">case</span><span class="p">...</span>
<span class="n">syntaxTests</span><span class="o">/</span><span class="n">double_stateVariable_declaration</span><span class="p">.</span><span class="n">sol</span><span class="o">:</span> <span class="n">OK</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Choose a name for the contract file that explains what it tests, e.g. <code class="docutils literal notranslate"><span class="pre">double_variable_declaration.sol</span></code>.
Do not put more than one contract into a single file, unless you are testing inheritance or cross-contract calls.
Each file should test one aspect of your new feature.</p>
</div>
</section>
</section>
<section id="running-the-fuzzer-via-afl">
<h2>Running the Fuzzer via AFL<a class="headerlink" href="#running-the-fuzzer-via-afl" title="Link to this heading"></a></h2>
<p>Fuzzing is a technique that runs programs on more or less random inputs to find exceptional execution
states (segmentation faults, exceptions, etc). Modern fuzzers are clever and run a directed search
inside the input. We have a specialized binary called <code class="docutils literal notranslate"><span class="pre">solfuzzer</span></code> which takes source code as input
and fails whenever it encounters an internal compiler error, segmentation fault or similar, but
does not fail if e.g., the code contains an error. This way, fuzzing tools can find internal problems in the compiler.</p>
<p>We mainly use <a class="reference external" href="https://lcamtuf.coredump.cx/afl/">AFL</a> for fuzzing. You need to download and
install the AFL packages from your repositories (afl, afl-clang) or build them manually.
Next, build Solidity (or just the <code class="docutils literal notranslate"><span class="pre">solfuzzer</span></code> binary) with AFL as your compiler:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=Y2QgYnVpbGQKIyBpZiBuZWVkZWQKbWFrZSBjbGVhbgpjbWFrZSAuLiAtRENNQUtFX0NfQ09NUElMRVI9cGF0aC90by9hZmwtZ2NjIC1EQ01BS0VfQ1hYX0NPTVBJTEVSPXBhdGgvdG8vYWZsLWcrKwptYWtlIHNvbGZ1enplcg==" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">build</span>
<span class="err">#</span> <span class="k">if</span> <span class="n">needed</span>
<span class="n">make</span> <span class="n">clean</span>
<span class="n">cmake</span> <span class="p">..</span> <span class="o">-</span><span class="n">DCMAKE_C_COMPILER</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">afl</span><span class="o">-</span><span class="n">gcc</span> <span class="o">-</span><span class="n">DCMAKE_CXX_COMPILER</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">afl</span><span class="o">-</span><span class="n">g</span><span class="o">++</span>
<span class="n">make</span> <span class="n">solfuzzer</span>
</pre></div>
</div>
<p>At this stage you should be able to see a message similar to the following:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=U2Nhbm5pbmcgZGVwZW5kZW5jaWVzIG9mIHRhcmdldCBzb2xmdXp6ZXIKWyA5OCVdIEJ1aWxkaW5nIENYWCBvYmplY3QgdGVzdC90b29scy9DTWFrZUZpbGVzL3NvbGZ1enplci5kaXIvZnV6emVyLmNwcC5vCmFmbC1jYyAyLjUyYiBieSA8bGNhbXR1ZkBnb29nbGUuY29tPgphZmwtYXMgMi41MmIgYnkgPGxjYW10dWZAZ29vZ2xlLmNvbT4KWytdIEluc3RydW1lbnRlZCAxOTQ5IGxvY2F0aW9ucyAoNjQtYml0LCBub24taGFyZGVuZWQgbW9kZSwgcmF0aW8gMTAwJSkuClsxMDAlXSBMaW5raW5nIENYWCBleGVjdXRhYmxlIHNvbGZ1enplcg==" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">Scanning</span> <span class="n">dependencies</span> <span class="kr">of</span> <span class="n">target</span> <span class="n">solfuzzer</span>
<span class="p">[</span> <span class="mi">98</span><span class="o">%</span><span class="p">]</span> <span class="n">Building</span> <span class="n">CXX</span> <span class="n">object</span> <span class="n">test</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">CMakeFiles</span><span class="o">/</span><span class="n">solfuzzer</span><span class="p">.</span><span class="n">dir</span><span class="o">/</span><span class="n">fuzzer</span><span class="p">.</span><span class="n">cpp</span><span class="p">.</span><span class="n">o</span>
<span class="n">afl</span><span class="o">-</span><span class="n">cc</span> <span class="mf">2.52</span><span class="n">b</span> <span class="n">by</span> <span class="o">&lt;</span><span class="n">lcamtuf</span><span class="err">@</span><span class="n">google</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span>
<span class="n">afl</span><span class="o">-</span><span class="k">as</span> <span class="mf">2.52</span><span class="n">b</span> <span class="n">by</span> <span class="o">&lt;</span><span class="n">lcamtuf</span><span class="err">@</span><span class="n">google</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span>
<span class="p">[</span><span class="o">+</span><span class="p">]</span> <span class="n">Instrumented</span> <span class="mi">1949</span> <span class="n">locations</span> <span class="p">(</span><span class="mi">64</span><span class="o">-</span><span class="n">bit</span><span class="p">,</span> <span class="n">non</span><span class="o">-</span><span class="n">hardened</span> <span class="n">mode</span><span class="p">,</span> <span class="n">ratio</span> <span class="mi">100</span><span class="o">%</span><span class="p">).</span>
<span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span> <span class="n">Linking</span> <span class="n">CXX</span> <span class="n">executable</span> <span class="n">solfuzzer</span>
</pre></div>
</div>
<p>If the instrumentation messages did not appear, try switching the cmake flags pointing to AFL’s clang binaries:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=IyBpZiBwcmV2aW91c2x5IGZhaWxlZAptYWtlIGNsZWFuCmNtYWtlIC4uIC1EQ01BS0VfQ19DT01QSUxFUj1wYXRoL3RvL2FmbC1jbGFuZyAtRENNQUtFX0NYWF9DT01QSUxFUj1wYXRoL3RvL2FmbC1jbGFuZysrCm1ha2Ugc29sZnV6emVy" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="err">#</span> <span class="k">if</span> <span class="n">previously</span> <span class="n">failed</span>
<span class="n">make</span> <span class="n">clean</span>
<span class="n">cmake</span> <span class="p">..</span> <span class="o">-</span><span class="n">DCMAKE_C_COMPILER</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">afl</span><span class="o">-</span><span class="n">clang</span> <span class="o">-</span><span class="n">DCMAKE_CXX_COMPILER</span><span class="o">=</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">afl</span><span class="o">-</span><span class="n">clang</span><span class="o">++</span>
<span class="n">make</span> <span class="n">solfuzzer</span>
</pre></div>
</div>
<p>Otherwise, upon execution the fuzzer halts with an error saying binary is not instrumented:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=YWZsLWZ1enogMi41MmIgYnkgPGxjYW10dWZAZ29vZ2xlLmNvbT4KLi4uICh0cnVuY2F0ZWQgbWVzc2FnZXMpClsqXSBWYWxpZGF0aW5nIHRhcmdldCBiaW5hcnkuLi4KClstXSBMb29rcyBsaWtlIHRoZSB0YXJnZXQgYmluYXJ5IGlzIG5vdCBpbnN0cnVtZW50ZWQhIFRoZSBmdXp6ZXIgZGVwZW5kcyBvbgogICAgY29tcGlsZS10aW1lIGluc3RydW1lbnRhdGlvbiB0byBpc29sYXRlIGludGVyZXN0aW5nIHRlc3QgY2FzZXMgd2hpbGUKICAgIG11dGF0aW5nIHRoZSBpbnB1dCBkYXRhLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgYW5kIGZvciB0aXBzIG9uIGhvdyB0bwogICAgaW5zdHJ1bWVudCBiaW5hcmllcywgcGxlYXNlIHNlZSAvdXNyL3NoYXJlL2RvYy9hZmwtZG9jL2RvY3MvUkVBRE1FLgoKICAgIFdoZW4gc291cmNlIGNvZGUgaXMgbm90IGF2YWlsYWJsZSwgeW91IG1heSBiZSBhYmxlIHRvIGxldmVyYWdlIFFFTVUKICAgIG1vZGUgc3VwcG9ydC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciB0aXBzIG9uIGhvdyB0byBlbmFibGUgdGhpcy4KICAgIChJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIHVzZSBhZmwtZnV6eiBhcyBhIHRyYWRpdGlvbmFsLCAiZHVtYiIgZnV6emVyLgogICAgRm9yIHRoYXQsIHlvdSBjYW4gdXNlIHRoZSAtbiBvcHRpb24gLSBidXQgZXhwZWN0IG11Y2ggd29yc2UgcmVzdWx0cy4pCgpbLV0gUFJPR1JBTSBBQk9SVCA6IE5vIGluc3RydW1lbnRhdGlvbiBkZXRlY3RlZAogICAgICAgICBMb2NhdGlvbiA6IGNoZWNrX2JpbmFyeSgpLCBhZmwtZnV6ei5jOjY5MjA=" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">afl</span><span class="o">-</span><span class="n">fuzz</span> <span class="mf">2.52</span><span class="n">b</span> <span class="n">by</span> <span class="o">&lt;</span><span class="n">lcamtuf</span><span class="err">@</span><span class="n">google</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span>
<span class="p">...</span> <span class="p">(</span><span class="n">truncated</span> <span class="n">messages</span><span class="p">)</span>
<span class="p">[</span><span class="o">*</span><span class="p">]</span> <span class="n">Validating</span> <span class="n">target</span> <span class="n">binary</span><span class="p">...</span>

<span class="p">[</span><span class="o">-</span><span class="p">]</span> <span class="n">Looks</span> <span class="n">like</span> <span class="n">the</span> <span class="n">target</span> <span class="n">binary</span> <span class="k">is</span> <span class="n">not</span> <span class="n">instrumented</span><span class="o">!</span> <span class="n">The</span> <span class="n">fuzzer</span> <span class="n">depends</span> <span class="n">on</span>
    <span class="n">compile</span><span class="o">-</span><span class="n">time</span> <span class="n">instrumentation</span> <span class="n">to</span> <span class="n">isolate</span> <span class="n">interesting</span> <span class="n">test</span> <span class="n">cases</span> <span class="k">while</span>
    <span class="n">mutating</span> <span class="n">the</span> <span class="n">input</span> <span class="n">data</span><span class="p">.</span> <span class="n">For</span> <span class="n">more</span> <span class="n">information</span><span class="p">,</span> <span class="n">and</span> <span class="k">for</span> <span class="n">tips</span> <span class="n">on</span> <span class="n">how</span> <span class="n">to</span>
    <span class="n">instrument</span> <span class="n">binaries</span><span class="p">,</span> <span class="n">please</span> <span class="n">see</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">doc</span><span class="o">/</span><span class="n">afl</span><span class="o">-</span><span class="n">doc</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">README</span><span class="p">.</span>

    <span class="n">When</span> <span class="n">source</span> <span class="n">code</span> <span class="k">is</span> <span class="n">not</span> <span class="n">available</span><span class="p">,</span> <span class="n">you</span> <span class="n">may</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">leverage</span> <span class="n">QEMU</span>
    <span class="n">mode</span> <span class="n">support</span><span class="p">.</span> <span class="n">Consult</span> <span class="n">the</span> <span class="n">README</span> <span class="k">for</span> <span class="n">tips</span> <span class="n">on</span> <span class="n">how</span> <span class="n">to</span> <span class="n">enable</span> <span class="nb">this</span><span class="p">.</span>
    <span class="p">(</span><span class="n">It</span> <span class="k">is</span> <span class="n">also</span> <span class="n">possible</span> <span class="n">to</span> <span class="n">use</span> <span class="n">afl</span><span class="o">-</span><span class="n">fuzz</span> <span class="k">as</span> <span class="n">a</span> <span class="n">traditional</span><span class="p">,</span> <span class="s">&quot;dumb&quot;</span> <span class="n">fuzzer</span><span class="p">.</span>
    <span class="n">For</span> <span class="n">that</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">use</span> <span class="n">the</span> <span class="o">-</span><span class="n">n</span> <span class="n">option</span> <span class="o">-</span> <span class="n">but</span> <span class="n">expect</span> <span class="n">much</span> <span class="n">worse</span> <span class="n">results</span><span class="p">.)</span>

<span class="p">[</span><span class="o">-</span><span class="p">]</span> <span class="n">PROGRAM</span> <span class="n">ABORT</span> <span class="o">:</span> <span class="n">No</span> <span class="n">instrumentation</span> <span class="n">detected</span>
         <span class="n">Location</span> <span class="o">:</span> <span class="n">check_binary</span><span class="p">(),</span> <span class="n">afl</span><span class="o">-</span><span class="n">fuzz</span><span class="p">.</span><span class="n">c</span><span class="o">:</span><span class="mi">6920</span>
</pre></div>
</div>
<p>Next, you need some example source files. This makes it much easier for the fuzzer
to find errors. You can either copy some files from the syntax tests or extract test files
from the documentation or the other tests:</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=bWtkaXIgL3RtcC90ZXN0X2Nhc2VzCmNkIC90bXAvdGVzdF9jYXNlcwojIGV4dHJhY3QgZnJvbSB0ZXN0czoKcGF0aC90by9zb2xpZGl0eS9zY3JpcHRzL2lzb2xhdGVfdGVzdHMucHkgcGF0aC90by9zb2xpZGl0eS90ZXN0L2xpYnNvbGlkaXR5L1NvbGlkaXR5RW5kVG9FbmRUZXN0LmNwcAojIGV4dHJhY3QgZnJvbSBkb2N1bWVudGF0aW9uOgpwYXRoL3RvL3NvbGlkaXR5L3NjcmlwdHMvaXNvbGF0ZV90ZXN0cy5weSBwYXRoL3RvL3NvbGlkaXR5L2RvY3MgZG9jcw==" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">test_cases</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">test_cases</span>
<span class="err">#</span> <span class="n">extract</span> <span class="k">from</span> <span class="n">tests</span><span class="o">:</span>
<span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">solidity</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">isolate_tests</span><span class="p">.</span><span class="n">py</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">solidity</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">libsolidity</span><span class="o">/</span><span class="n">SolidityEndToEndTest</span><span class="p">.</span><span class="n">cpp</span>
<span class="err">#</span> <span class="n">extract</span> <span class="k">from</span> <span class="n">documentation</span><span class="o">:</span>
<span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">solidity</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">isolate_tests</span><span class="p">.</span><span class="n">py</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">solidity</span><span class="o">/</span><span class="n">docs</span> <span class="n">docs</span>
</pre></div>
</div>
<p>The AFL documentation states that the corpus (the initial input files) should not be
too large. The files themselves should not be larger than 1 kB and there should be
at most one input file per functionality, so better start with a small number of.
There is also a tool called <code class="docutils literal notranslate"><span class="pre">afl-cmin</span></code> that can trim input files
that result in similar behaviour of the binary.</p>
<p>Now run the fuzzer (the <code class="docutils literal notranslate"><span class="pre">-m</span></code> extends the size of memory to 60 MB):</p>
<p class="remix-link-container"><a class="remix-link reference external" href="https://remix.ethereum.org/?#language=solidity&amp;version=0.7.6&amp;code=YWZsLWZ1enogLW0gNjAgLWkgL3RtcC90ZXN0X2Nhc2VzIC1vIC90bXAvZnV6emVyX3JlcG9ydHMgLS0gL3BhdGgvdG8vc29sZnV6emVy" target="_blank">open in Remix</a></p>
<div class="highlight-Solidity notranslate"><div class="highlight"><pre><span></span><span class="n">afl</span><span class="o">-</span><span class="n">fuzz</span> <span class="o">-</span><span class="n">m</span> <span class="mi">60</span> <span class="o">-</span><span class="n">i</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">test_cases</span> <span class="o">-</span><span class="n">o</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">fuzzer_reports</span> <span class="o">--</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">solfuzzer</span>
</pre></div>
</div>
<p>The fuzzer creates source files that lead to failures in <code class="docutils literal notranslate"><span class="pre">/tmp/fuzzer_reports</span></code>.
Often it finds many similar source files that produce the same error. You can
use the tool <code class="docutils literal notranslate"><span class="pre">scripts/uniqueErrors.sh</span></code> to filter out the unique errors.</p>
</section>
<section id="whiskers">
<h2>Whiskers<a class="headerlink" href="#whiskers" title="Link to this heading"></a></h2>
<p><em>Whiskers</em> is a string templating system similar to <a class="reference external" href="https://mustache.github.io">Mustache</a>. It is used by the
compiler in various places to aid readability, and thus maintainability and verifiability, of the code.</p>
<p>The syntax comes with a substantial difference to Mustache. The template markers <code class="docutils literal notranslate"><span class="pre">{{</span></code> and <code class="docutils literal notranslate"><span class="pre">}}</span></code> are
replaced by <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> in order to aid parsing and avoid conflicts with <a class="reference internal" href="yul.html#yul"><span class="std std-ref">Yul</span></a>
(The symbols <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> are invalid in inline assembly, while <code class="docutils literal notranslate"><span class="pre">{</span></code> and <code class="docutils literal notranslate"><span class="pre">}</span></code> are used to delimit blocks).
Another limitation is that lists are only resolved one depth and they do not recurse. This may change in the future.</p>
<p>A rough specification is the following:</p>
<p>Any occurrence of <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is replaced by the string-value of the supplied variable <code class="docutils literal notranslate"><span class="pre">name</span></code> without any
escaping and without iterated replacements. An area can be delimited by <code class="docutils literal notranslate"><span class="pre">&lt;#name&gt;...&lt;/name&gt;</span></code>. It is replaced
by as many concatenations of its contents as there were sets of variables supplied to the template system,
each time replacing any <code class="docutils literal notranslate"><span class="pre">&lt;inner&gt;</span></code> items by their respective value. Top-level variables can also be used
inside such areas.</p>
<p>There are also conditionals of the form <code class="docutils literal notranslate"><span class="pre">&lt;?name&gt;...&lt;!name&gt;...&lt;/name&gt;</span></code>, where template replacements
continue recursively either in the first or the second segment depending on the value of the boolean
parameter <code class="docutils literal notranslate"><span class="pre">name</span></code>. If <code class="docutils literal notranslate"><span class="pre">&lt;?+name&gt;...&lt;!+name&gt;...&lt;/+name&gt;</span></code> is used, then the check is whether
the string parameter <code class="docutils literal notranslate"><span class="pre">name</span></code> is non-empty.</p>
</section>
<section id="documentation-style-guide">
<span id="documentation-style"></span><h2>Documentation Style Guide<a class="headerlink" href="#documentation-style-guide" title="Link to this heading"></a></h2>
<p>In the following section you find style recommendations specifically focusing on documentation
contributions to Solidity.</p>
<section id="english-language">
<h3>English Language<a class="headerlink" href="#english-language" title="Link to this heading"></a></h3>
<p>Use English, with British English spelling preferred, unless using project or brand names. Try to reduce the usage of
local slang and references, making your language as clear to all readers as possible. Below are some references to help:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Simplified_Technical_English">Simplified technical English</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/International_English">International English</a></p></li>
<li><p><a class="reference external" href="https://en.oxforddictionaries.com/spelling/british-and-spelling">British English spelling</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While the official Solidity documentation is written in English, there are community contributed <a class="reference internal" href="index.html#translations"><span class="std std-ref">Translations</span></a>
in other languages available.</p>
</div>
</section>
<section id="title-case-for-headings">
<h3>Title Case for Headings<a class="headerlink" href="#title-case-for-headings" title="Link to this heading"></a></h3>
<p>Use <a class="reference external" href="https://titlecase.com">title case</a> for headings. This means capitalise all principal words in
titles, but not articles, conjunctions, and prepositions unless they start the
title.</p>
<p>For example, the following are all correct:</p>
<ul class="simple">
<li><p>Title Case for Headings.</p></li>
<li><p>For Headings Use Title Case.</p></li>
<li><p>Local and State Variable Names.</p></li>
<li><p>Order of Layout.</p></li>
</ul>
</section>
<section id="expand-contractions">
<h3>Expand Contractions<a class="headerlink" href="#expand-contractions" title="Link to this heading"></a></h3>
<p>Use expanded contractions for words, for example:</p>
<ul class="simple">
<li><p>“Do not” instead of “Don’t”.</p></li>
<li><p>“Can not” instead of “Can’t”.</p></li>
</ul>
</section>
<section id="active-and-passive-voice">
<h3>Active and Passive Voice<a class="headerlink" href="#active-and-passive-voice" title="Link to this heading"></a></h3>
<p>Active voice is typically recommended for tutorial style documentation as it
helps the reader understand who or what is performing a task. However, as the
Solidity documentation is a mixture of tutorials and reference content, passive
voice is sometimes more applicable.</p>
<p>As a summary:</p>
<ul class="simple">
<li><p>Use passive voice for technical reference, for example language definition and internals of the Ethereum VM.</p></li>
<li><p>Use active voice when describing recommendations on how to apply an aspect of Solidity.</p></li>
</ul>
<p>For example, the below is in passive voice as it specifies an aspect of Solidity:</p>
<blockquote>
<div><p>Functions can be declared <code class="docutils literal notranslate"><span class="pre">pure</span></code> in which case they promise not to read
from or modify the state.</p>
</div></blockquote>
<p>For example, the below is in active voice as it discusses an application of Solidity:</p>
<blockquote>
<div><p>When invoking the compiler, you can specify how to discover the first element
of a path, and also path prefix remappings.</p>
</div></blockquote>
</section>
<section id="common-terms">
<h3>Common Terms<a class="headerlink" href="#common-terms" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>“Function parameters” and “return variables”, not input and output parameters.</p></li>
</ul>
</section>
<section id="code-examples">
<h3>Code Examples<a class="headerlink" href="#code-examples" title="Link to this heading"></a></h3>
<p>A CI process tests all code block formatted code examples that begin with <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">solidity</span></code>, <code class="docutils literal notranslate"><span class="pre">contract</span></code>, <code class="docutils literal notranslate"><span class="pre">library</span></code>
or <code class="docutils literal notranslate"><span class="pre">interface</span></code> using the <code class="docutils literal notranslate"><span class="pre">./test/cmdlineTests.sh</span></code> script when you create a PR. If you are adding new code examples,
ensure they work and pass tests before creating the PR.</p>
<p>Ensure that all code examples begin with a <code class="docutils literal notranslate"><span class="pre">pragma</span></code> version that spans the largest where the contract code is valid.
For example <code class="docutils literal notranslate"><span class="pre">pragma</span> <span class="pre">solidity</span> <span class="pre">&gt;=0.4.0</span> <span class="pre">&lt;0.8.0;</span></code>.</p>
</section>
<section id="running-documentation-tests">
<h3>Running Documentation Tests<a class="headerlink" href="#running-documentation-tests" title="Link to this heading"></a></h3>
<p>Make sure your contributions pass our documentation tests by running <code class="docutils literal notranslate"><span class="pre">./scripts/docs.sh</span></code> that installs dependencies
needed for documentation and checks for any problems such as broken links or syntax issues.</p>
</section>
</section>
<section id="solidity-language-design">
<h2>Solidity Language Design<a class="headerlink" href="#solidity-language-design" title="Link to this heading"></a></h2>
<p>If you want to get involved in the language design process and share your ideas, please join the <a class="reference external" href="https://groups.google.com/g/solidity-users">solidity-users forum</a>,
where existing properties of the language and proposals for new features can be discussed.</p>
<p>We regularly host language design discussion calls, in which selected topics, issues or feature implementations are debated in detail. The invitation
to those calls is shared via the aforementioned forum. We are also sharing feedback surveys and other language design relevant content in this forum.</p>
<p>For ad-hoc cases and questions you can reach out to us via the <a class="reference external" href="https://gitter.im/ethereum/solidity-dev">Solidity-dev Gitter channel</a>, a
dedicated chatroom for conversations around the Solidity compiler and language development.</p>
<p>You can follow the implementation status of new features in the <a class="reference external" href="https://github.com/ethereum/solidity/projects/43">Solidity Github project</a>.
Issues in the design backlog need further specification and will either be discussed in a language design call or in a regular team call. You can
see the upcoming changes for the next breaking release by changing from the default branch (<cite>develop</cite>) to the <a class="reference external" href="https://github.com/ethereum/solidity/tree/breaking">breaking branch</a>.</p>
<p>We are happy to hear your thoughts on how we can improve the language design process to be even more collaborative and transparent.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bugs.html" class="btn btn-neutral float-left" title="List of Known Bugs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="brand-guide.html" class="btn btn-neutral float-right" title="Solidity Brand Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2025, The Solidity Authors.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book fa-element"> RTD </span>

    <span class="fa fa-element">
    <input class="container_toggle" type="checkbox" id="switch" name="mode">
    <label for="switch"></label>
    </span>

    <span class="fa fa-v fa-element"> v:  <span class="fa fa-caret-down"></span></span>

    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Versions</dt> 
        </dl>
        <dl>
            <dt>Downloads</dt> 
        </dl>
        <dl>
            
            <dt>On Read the Docs</dt>
            <dd>
                <a href="///projects//?fromdocs=">Project Home</a>
            </dd>
            <dd>
                <a href="///builds//?fromdocs=">Builds</a>
            </dd>
        </dl>
    </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>